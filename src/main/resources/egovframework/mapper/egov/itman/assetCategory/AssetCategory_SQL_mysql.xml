<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="assetCategoryDAO">
    <select id="selectAssetCategoriesByGroup" parameterType="string" resultType="assetCategoryVO">
        SELECT ASS_CAT_IDX AS assCatIdx,
               ASS_CAT_NAME AS assCatName,
               ASS_CAT_CODE AS assCatCode
        FROM ITM_ASSET_CATEGORY
        WHERE GRO_IDX = #{groIdx}
        AND DEL_YN = 'N'
        ORDER BY ASS_CAT_NAME
    </select>

    <insert id="insertAssetCategory" parameterType="assetCategoryVO" >
        INSERT INTO
            ITM_ASSET_CATEGORY
            <trim prefix="(" suffix=")" suffixOverrides=",">
            GRO_IDX,
            ASS_CAT_CODE,
            ASS_CAT_NAME,
            REG_DATE,
            REG_IDX,
                <if test="slNote != null and slNote.trim().length() > 0">SL_NOTE</if>
            </trim>
            VALUES
        <trim prefix="(" suffix=")" suffixOverrides=",">
            1, <!-- #{groIdx}, 임시 groIdx-->
            #{assCatCode},
            #{assCatName},
            NOW(),
            77, <!-- #{regIdx}, 임시 regIdx-->
            <if test="slNote != null and slNote.trim().length() > 0">#{slNote}</if>
        </trim>


    </insert>
</mapper>